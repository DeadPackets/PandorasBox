name: Create Toolkit

on:
  workflow_dispatch:

jobs:
  compile_toolkit:
    runs-on: windows-latest
    steps:
      -
        name: Download Inceptor
        uses: actions/checkout@v3
        with:
          repository: 'klezVirus/inceptor'
          submodules: 'recursive'
          path: './inceptor'
          ref: 'dev' #! Needs to be tested!
      -
        name: Setup Inceptor
        run: |
          cd .\inceptor
          pip install wheel
          pip install -r requirements.txt
          cd .\inceptor
      - name: Start SSH session
        uses: luchihoratiu/debug-via-ssh@main
        with:
          NGROK_AUTH_TOKEN: ${{ secrets.NGROK_AUTH_TOKEN }}
          SSH_PASS: SuperSecretPass1337